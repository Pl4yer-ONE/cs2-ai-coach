================================================================================
                     FRAGAUDIT TEST REPORT (v3.3.0)
                     Generated: 2026-01-14 09:30 IST
================================================================================

PROJECT: FragAudit - CS2 Demo Analysis Engine
REPO: https://github.com/Pl4yer-ONE/FragAudit
LICENSE: Dual (GPLv3 + Commercial)

================================================================================
                              CHANGES MADE
================================================================================

1. RADAR ALIGNMENT FIX (src/radar/renderer.py)
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Problem: Player positions misaligned with map background
   Root Cause: bbox_inches='tight' in plt.savefig() cropped frames differently
   
   Fix Applied:
   - Removed bbox_inches='tight' from plt.savefig()
   - Added plt.subplots_adjust(left=0, right=1, top=1, bottom=0) for zero margins
   - Added aspect='equal' to ax.imshow() for consistent map scaling
   - Added ax.set_aspect('equal', adjustable='box') for axes consistency
   - Changed figsize to use resolution/dpi for pixel-perfect output

   Code Changes:
   ```diff
   - fig, ax = plt.subplots(figsize=(10.24, 10.24), dpi=100)
   + dpi = 100
   + fig_size = self.resolution / dpi
   + fig, ax = plt.subplots(figsize=(fig_size, fig_size), dpi=dpi)
   
   + plt.subplots_adjust(left=0, right=1, top=1, bottom=0)
   
   - ax.imshow(self.map_image, extent=[...], zorder=1)
   + ax.imshow(self.map_image, extent=[...], zorder=1, aspect='equal')
   
   + ax.set_aspect('equal', adjustable='box')
   
   - plt.savefig(frame_path, dpi=100, bbox_inches='tight', pad_inches=0, ...)
   + plt.savefig(frame_path, dpi=dpi, facecolor='#1a1a2e', 
   +            pad_inches=0, bbox_inches=None)
   ```

2. FFMPEG WIDTH FIX (src/radar/video.py)
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Problem: ffmpeg error "width not divisible by 2" on odd-dimension maps
   Fix: Added -vf scale filter to ensure even dimensions
   
   Code Changes:
   ```diff
   + "-vf", "scale=trunc(iw/2)*2:trunc(ih/2)*2",  # Ensure even dimensions
   ```

3. COMMERCIAL EMAIL UPDATE (docs/COMMERCIAL.md)
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Changed: licensing@fragaudit.com â†’ FragAudit@proton.me

================================================================================
                              UNIT TEST RESULTS
================================================================================

Test Command: python -m pytest tests/ -v
Result: 48/48 PASSED (0.85s)

Tests by Module:
  - test_calibration.py: 14 passed (scoring calibration)
  - test_map_coords.py: 12 passed (coordinate transforms)
  - test_synergy.py: 12 passed (duo/team metrics)
  - test_timeline.py: 10 passed (event taxonomy)

================================================================================
                           DEMO ANALYSIS OUTPUT
================================================================================

Command: python main.py analyze --demo phantom-vs-hyperspirit-m1-mirage.dem --html --radar

Demo: phantom-vs-hyperspirit-m1-mirage.dem
Map: de_mirage
Players: 10
Issues Detected: 7 (dry_peek)

Generated Files:
  1. coaching_report_*.json (9.3 KB) - Full analysis
  2. report_*.html (4.8 MB) - Visual report with embedded radar
  3. radar_*.mp4 (3.5 MB) - Radar replay video âœ… FIXED
  
================================================================================
                         RADAR VIDEO VERIFICATION
================================================================================

Before Fix:
  - Video file: 0 bytes (empty)
  - ffmpeg error: "width not divisible by 2 (793x788)"
  - Map and player positions misaligned due to cropping

After Fix:
  - Video file: 3.5 MB âœ…
  - No ffmpeg errors
  - Player positions correctly aligned with map background
  - Consistent frame sizing across all rendered frames

================================================================================
                           SAMPLE PLAYER OUTPUT
================================================================================

  Ciocardau
    K/D: 2.22  HS: 60.0%  Trade: 33%  Role: Entry
    âœ“ No issues detected

  d1maje
    K/D: 3.0  HS: 61.1%  Trade: 50%  Role: Trader
    âœ“ No issues detected

  ADRON
    K/D: 2.12  HS: 58.8%  Trade: 12%  Role: SiteAnchor
    âœ“ No issues detected

  mynio
    K/D: 0.27  HS: 25.0%  Trade: 20%  Role: Trader
    ðŸŸ¡ [MED] R0 0:30 â€” dry peek

================================================================================
                              VERIFICATION
================================================================================

[x] All 48 unit tests pass
[x] Demo parsing succeeds
[x] JSON report generated
[x] HTML report generated (4.8 MB)
[x] Radar video generated (3.5 MB) âœ… FIXED
[x] Player alignment on radar correct âœ… FIXED
[x] ffmpeg odd-dimension error resolved âœ… FIXED
[x] Email updated to FragAudit@proton.me

STATUS: ALL CHECKS PASSED âœ“

================================================================================
                         GIT COMMITS
================================================================================

1. e90b954: fix: Radar video ffmpeg width error
   - Added -vf scale filter for even dimensions

2. (pending): fix: Radar map alignment
   - Fixed subplots_adjust, aspect ratio, removed bbox_inches

================================================================================
                         END OF TEST REPORT
================================================================================
